import os
import re
import sys
import copy
import json
import shutil
import ffmpeg
import logging
import warnings
import argparse
from yt_dlp import YoutubeDL
from write_subtitles_json import write_json
from argparse import ArgumentDefaultsHelpFormatter
from pyannote.audio.utils.reproducibility import ReproducibilityWarning

logging.getLogger('speechbrain.utils.quirks').setLevel(logging.WARNING)
logging.getLogger('pytorch_lightning.utilities.migration.utils').setLevel(logging.WARNING)

import whisperx
from whisperx.utils import get_writer

def get_subtitles(urls: list, cookies_path: str, subs_path: str, prefer_autogenerated: bool, generate_missing: bool, whisper_model: str, whisper_compute_type: str, whisper_batch_size: int, whisper_device: str):
    class UnavailableSubsLogger:
        def __init__(self):
            self.log_files = ['videos_with_no_subs.txt', 'unavailable_videos.txt']
            self.no_subs_log_file = open('videos_with_no_subs.txt', 'a', encoding='utf-8')
            self.unavailable_log_file = open('unavailable_videos.txt', 'a', encoding='utf-8')
            self.no_subs_pattern = re.compile(r'^\[info\] There are no subtitles for the requested languages$')
            self.current_video_id = ''

        def debug(self, msg):
            if '[download]' not in msg:
                print(msg, flush=True)
            elif '[download]' in msg:
                print(f'\r{msg}', end='', flush=True)
            if '[youtube] Extracting URL: https://www.youtube.com/watch?v=' in msg:
                self.current_video_id = msg.split('[youtube] Extracting URL: https://www.youtube.com/watch?v=')[1]
            if self.no_subs_pattern.search(msg):
                self.no_subs_log_file.write(f'https://www.youtube.com/watch?v={self.current_video_id}\n')

        def warning(self, msg):
            print(msg)

        def error(self, msg):
            print(msg, file=sys.stderr)
            # account for: [youtube] VQ4B5d_upTE: Requested format is not available. Use --list-formats for a list of available formats
            if 'Video unavailable.' in msg:
                self.unavailable_log_file.write(f'https://www.youtube.com/watch?v={self.current_video_id}\n')
                with open('downloaded.txt', 'a', encoding='utf-8') as f:
                    f.write(f'youtube {self.current_video_id}\n')

        def close(self):
            self.no_subs_log_file.close()
            self.unavailable_log_file.close()
            for log_file in self.log_files:
                if os.path.getsize(log_file) == 0:
                    os.remove(log_file)

    logger = UnavailableSubsLogger()

    common_args = {
        # 'playlist_items': '1-3',
        # 'cookiesfrombrowser': {'firefox'},
        'cookiefile': cookies_path,
        'ignoreerrors': True,
        'clean_infojson': True,
        'download_archive': 'downloaded.txt',
        'force_write_download_archive': True,
        'forcejson': True,
        'outtmpl': '%(title)s.%(ext)s',
        'paths': {'home': subs_path},
        'restrictfilenames': True,
        'simulate': False,
        'writeinfojson': True
    }

    audio_only_args = copy.deepcopy(common_args)
    audio_only_args.update({
        'format': 'bestaudio/best',
        'logger': logger,
        # 'postprocessors': [{'key': 'FFmpegExtractAudio', 'preferredcodec': 'opus', 'preferredquality': '0'}]
    })

    subtitle_only_args = copy.deepcopy(common_args)
    subtitle_only_args.update({
        'logger': logger,
        'postprocessors': [{'format': 'lrc', 'key': 'FFmpegSubtitlesConvertor', 'when': 'before_dl'}],
        'skip_download': True,
        'writeautomaticsub': True
    })

    os.makedirs(subs_path, exist_ok=True)

    if prefer_autogenerated:
        with YoutubeDL(subtitle_only_args) as ydl:
            ydl.download(urls)
    else:
        with YoutubeDL(audio_only_args) as ydl:
            ydl.download(urls)

    logger.close()

    if prefer_autogenerated and generate_missing and os.path.exists('videos_with_no_subs.txt') and os.path.getsize('videos_with_no_subs.txt') > 0:
        videos_with_no_subs_urls = open('videos_with_no_subs.txt', 'r', encoding='utf-8').read().splitlines()
        logger = UnavailableSubsLogger()
        with YoutubeDL(audio_only_args) as ydl:
            ydl.download(videos_with_no_subs_urls)
        logger.close()

    audio_files = [filename for filename in os.listdir(subs_path) if filename.endswith(('.m4a', '.mp4', '.opus', '.webm'))]

    if audio_files:
        warnings.simplefilter('ignore', category=UserWarning)
        warnings.simplefilter('ignore', category=FutureWarning)
        warnings.simplefilter('ignore', category=ReproducibilityWarning)
        model = whisperx.load_model(whisper_model, device=whisper_device, compute_type=whisper_compute_type, language='en')
        model_a, metadata = whisperx.load_align_model(language_code='en', device=whisper_device)
        subtitle_writer = get_writer('srt', '.')
        processed_dir = os.path.join(subs_path, 'processed')
        os.makedirs(processed_dir, exist_ok=True)
        starting_whisper_batch_size = whisper_batch_size
        for filename in audio_files:
            audio_path = os.path.join(subs_path, filename)
            audio = whisperx.load_audio(audio_path)
            whisper_batch_size = starting_whisper_batch_size
            result = None
            aligned_result = None
            while result == None:
                try:
                    print(f'Generating subtitles for {filename}')
                    result = model.transcribe(audio, batch_size=whisper_batch_size, print_progress=True, combined_progress=False, verbose=False)
                except RuntimeError as e:
                    print(f'Runtime Error: {e}')
                    if e.args[0] == 'CUDA failed with error out of memory':
                        whisper_batch_size = whisper_batch_size - 1
                        if whisper_batch_size < 1:
                            whisper_batch_size = 1
                        print(f'Lowering batch size to: {whisper_batch_size}')
                except Exception as e:
                    print(f'Error: {e}')
                    print('Retrying...')
            print(f'Aligning subtitles for {filename}')
            aligned_result = whisperx.align(result['segments'], model_a, metadata, audio, whisper_device, return_char_alignments=False)
            aligned_result['language'] = result['language'] # type: ignore
            subtitle_writer(aligned_result, 'output.srt', {'max_line_width': None, 'max_line_count': None, 'highlight_words': False})
            ffmpeg.input('output.srt').output(os.path.join(subs_path, f'{os.path.splitext(filename)[0]}.en.lrc')).overwrite_output().run()
            shutil.move(audio_path, os.path.join(processed_dir, filename))
        os.remove('output.srt')

def rename_files(subs_path: str):
    prefix_pattern = re.compile(r'^(?:Old_)?(?:Jerma(?:985)?(?:_s)?|Livestream)_(?!and|tries)(?:Full_Stream|Stream(?:s)?)?(?:_with_Chat)?[_-]*', flags=re.IGNORECASE)
    seperator_pattern = re.compile(r'[-+_]+')
    suffix_pattern = re.compile(r'(?:_with_Chat)?(?:_v\d+)?(?=\.)', flags=re.IGNORECASE)
    year_pattern = re.compile(r'(?=\d)0_s')
    _s_pattern = re.compile(r'_s(?=[_.])')
    _S_pattern = re.compile(r'_S(?=[_.])')

    for filename in os.listdir(subs_path):
        new_filename = prefix_pattern.sub('', filename)
        new_filename = suffix_pattern.sub('', new_filename)
        new_filename = seperator_pattern.sub('_', new_filename)
        new_filename = year_pattern.sub('0s', new_filename)
        new_filename = _s_pattern.sub('s', new_filename)
        new_filename = _S_pattern.sub('S', new_filename)
        new_filename = new_filename.replace('You_re', 'Youre')
        if new_filename != filename:
            print(f'Renamed {filename} -> {new_filename}')
            dest_path = os.path.join(subs_path, new_filename)
            src_path = os.path.join(subs_path, filename)
            if os.path.exists(dest_path):
                os.remove(dest_path)
            os.rename(src_path, dest_path)

def refine_subtitles(subs_path: str):
    processed_files = set()
    timestamp_pattern = re.compile(r'^(\[\d+:\d+(?:\.\d+)?\])\s*(.*)$')
    replacement_counts = {}

    def replace(pattern: str, replacement: str, string: str, flags=0):
        count = 0

        def replacer(match):
            nonlocal count
            original = match.group(0)

            if original == replacement:
                return original

            count += 1
            return replacement

        new_text = re.sub(pattern, replacer, string, flags=flags)
        return new_text, count

    if os.path.exists('refined_subtitles.txt'):
        with open('refined_subtitles.txt', 'r', encoding='utf-8', newline='\n') as log_file:
            for line in log_file.read().splitlines():
                processed_files.add(line)

    for filename in os.listdir(subs_path):
        if filename.endswith('.lrc') and filename not in processed_files:
            with open(os.path.join(subs_path, filename), 'r', encoding='utf-8') as f:
                print(f'Processing {filename}...')
                file_content = f.read()
                case_insensitive_replacements = {
                    ' uk': ' UK',
                    '‚Äî': '-',
                    '‚Äô': "'",
                    '[\\h__\\h]': 'ü§¨',
                    '[Applause]': 'üëè',
                    '[Music]': 'üé∂',
                    '20 minutes till dawn': '20 Minutes Till Dawn',
                    'aaron': 'Aaron',
                    'abigail': 'Abigail',
                    'abilene': 'Abilene',
                    'abraham': 'Abraham',
                    'absolver': 'Absolver',
                    'absolvers': "Absolver's",
                    'abu dhabi': 'Abu Dhabi',
                    'abyss watchers': 'Abyss Watchers',
                    'achilles': 'Achilles',
                    'adam': 'Adam',
                    'adidas': 'Adidas',
                    'afghanistan': 'Afghanistan',
                    'afk': 'AFK',
                    'africa': 'Africa',
                    'african': 'African',
                    'akron': 'Akron',
                    'alabama': 'Alabama',
                    'alan': 'Alan',
                    'alaska': 'Alaska',
                    'albania': 'Albania',
                    'albany': 'Albany',
                    'albert': 'Albert',
                    'albertson': 'Elbertson',
                    'albinerg': 'Albinaurics',
                    'albinorex': 'Albinaurics',
                    'albinorik': 'Albinauric',
                    'albinorix': 'Albinaurics',
                    'albinuric': 'Albinauric',
                    'albinurk': 'Albinauric',
                    'albuquerque': 'Albuquerque',
                    'alex': 'Alex',
                    'alexander': 'Alexander',
                    'alexandria': 'Alexandria',
                    'alexis': 'Alexis',
                    'algeria': 'Algeria',
                    'alice': 'Alice',
                    'allen': 'Allen',
                    'allentown': 'Allentown',
                    'amanda': 'Amanda',
                    'amarillo': 'Amarillo',
                    'amazon': 'Amazon',
                    'amber': 'Amber',
                    'america': 'America',
                    'american': 'American',
                    'amherst': 'Amherst',
                    'amid evil': 'AMID EVIL',
                    'amman': 'Amman',
                    'amsterdam': 'Amsterdam',
                    'amy': 'Amy',
                    'ana': 'Ana',
                    'anaheim': 'Anaheim',
                    'ancestral follower': 'Ancestral Follower',
                    'anchorage': 'Anchorage',
                    'andersons': 'Andersons',
                    'andorra la vella': 'Andorra la Vella',
                    'andorra': 'Andorra',
                    'andrea': 'Andrea',
                    'andrew': 'Andrew',
                    'angela': 'Angela',
                    'angola': 'Angola',
                    'ankara': 'Ankara',
                    'ann arbor': 'Ann Arbor',
                    'ann': 'Ann',
                    'anna': 'Anna',
                    'ansel river': 'Ainsel River',
                    'antarctica': 'Antarctica',
                    'anthony': 'Anthony',
                    'antigua': 'Antigua',
                    'antioch': 'Antioch',
                    'aphrodite': 'Aphrodite',
                    'apia': 'Apia',
                    'apoco fists': 'Apoco-Fists',
                    'apollo': 'Apollo',
                    'applebee': 'Applebee',
                    'appleton': 'Appleton',
                    'april fool': 'April Fool',
                    'april': 'April',
                    'araya lucaria': 'Raya Lucaria',
                    'argentina': 'Argentina',
                    'arizona': 'Arizona',
                    'arkansas': 'Arkansas',
                    'arlington': 'Arlington',
                    'armenia': 'Armenia',
                    'armored core': 'Armored Core',
                    'armstrong': 'Armstrong',
                    'arnold': 'Arnold',
                    'artemis': 'Artemis',
                    'arthur': 'Arthur',
                    'arvada': 'Arvada',
                    'asap': 'ASAP',
                    'asheville': 'Asheville',
                    'ashgabat': 'Ashgabat',
                    'ashley': 'Ashley',
                    'asia': 'Asia',
                    'asian': 'Asian',
                    'aspects of the crucible breath': 'Aspects of the Crucible: Breath',
                    'aspects of the crucible': 'Aspects of the Crucible',
                    'astana': 'Astana',
                    'astell': 'Astel',
                    'aston': 'Aston',
                    'asunci√≥n': 'Asunci√≥n',
                    'asura': 'Asura',
                    'asylum demon': 'Asylum Demon',
                    'athena': 'Athena',
                    'athens': 'Athens',
                    'atlanta': 'Atlanta',
                    'atlantic city': 'Atlantic City',
                    'atlas': 'Atlas',
                    'audi': 'Audi',
                    'august': 'August',
                    'augusta': 'Augusta',
                    'aurora': 'Aurora',
                    'austin': 'Austin',
                    'australia': 'Australia',
                    'austria': 'Austria',
                    'avengers': 'Avengers',
                    'avondale': 'Avondale',
                    'azerbaijan': 'Azerbaijan',
                    'baby rage': 'BabyRage',
                    'baby rage': 'BabyRage',
                    'baby rages': 'BabyRages',
                    'backburner': 'Backburner',
                    'baghdad': 'Baghdad',
                    'bahrain': 'Bahrain',
                    'bakersfield': 'Bakersfield',
                    'baku': 'Baku',
                    'balotro': 'Balatro',
                    'baltimore': 'Baltimore',
                    'bandai namco': 'Bandai Namco',
                    'bandar seri begawan': 'Bandar Seri Begawan',
                    'bangkok': 'Bangkok',
                    'bangladesh': 'Bangladesh',
                    'banished knight': 'Banished Knight',
                    'barbados': 'Barbados',
                    'barbara': 'Barbara',
                    'barbie': 'Barbie',
                    'barbuda': 'Barbuda',
                    'bargrim the raging wolf': 'Vargram the Ragingwolf',
                    'barney': 'Barney',
                    'barnstable town': 'Barnstable Town',
                    'baru mazula': 'Farum Azula',
                    'bat chest': 'BatChest',
                    'batman': 'Batman',
                    'baton rouge': 'Baton Rouge',
                    'bazaar bargain': 'Bazaar Bargain',
                    'bear mazula': 'Farum Azula',
                    'beat saber': 'Beat Saber',
                    'beaumont': 'Beaumont',
                    'bed of chaos': 'Bed of Chaos',
                    'beijing': 'Beijing',
                    'beirut': 'Beirut',
                    'belarus': 'Belarus',
                    'belgium': 'Belgium',
                    'belgrade': 'Belgrade',
                    'belize': 'Belize',
                    'bell gargoyle': 'Bell Gargoyle',
                    'bell gargoyles': 'Bell Gargoyles',
                    'bellevue': 'Bellevue',
                    'bellingham': 'Bellingham',
                    'ben': 'Ben',
                    'benin': 'Benin',
                    'benjamin': 'Benjamin',
                    'bentley': 'Bentley',
                    'berkeley': 'Berkeley',
                    'berlin': 'Berlin',
                    'bern': 'Bern',
                    'betty': 'Betty',
                    'beverly': 'Beverly',
                    'bhutan': 'Bhutan',
                    'bible thump': 'BibleThump',
                    'big adventure': 'Big Adventure',
                    'bilbo': 'Bilbo',
                    'bill gates': 'Bill Gates',
                    'billy': 'Billy',
                    'binding of isaac': 'Binding of Isaac',
                    'binghamton': 'Binghamton',
                    'bio shock': 'BioShock',
                    'bioshock': 'BioShock',
                    'birmingham': 'Birmingham',
                    'bishkek': 'Bishkek',
                    'black flame monk': 'Blackflame Monk',
                    'black knife catacombs': 'Black Knife Catacombs',
                    'black knife print': 'Black Knifeprint',
                    'black knife': 'Black Knife',
                    'black knight': 'Black Knight',
                    'black knights': 'Black Knights',
                    'black ops': 'Black Ops',
                    'Blacklight Retribution': 'Blacklight: Retribution',
                    'blaze blue': 'BlazBlue',
                    'blight town': 'Blighttown',
                    'bloodborne': 'Bloodborne',
                    'bloody finger': 'Bloody Finger',
                    'bloody fingers': 'Bloody Fingers',
                    'bloomington': 'Bloomington',
                    'blythe': 'Blaidd',
                    'bmw': 'BMW',
                    'bob': 'Bob',
                    'bobby': 'Bobby',
                    'bodrick': 'Godrick',
                    'bogot√°': 'Bogot√°',
                    'boise': 'Boise',
                    'bolivia': 'Bolivia',
                    'bonita springs': 'Bonita Springs',
                    'bonk atomic or punch': 'Bonk! Atomic Punch',
                    'bootlegger': 'Bootlegger',
                    'borderlands': 'Borderlands',
                    'borough valley': 'Boreal Valley',
                    'bort of the boreal valley': 'Vordt of the Boreal Valley',
                    'bosnia': 'Bosnia',
                    'boston': 'Boston',
                    'botswana': 'Botswana',
                    'brandon': 'Brandon',
                    'bras√≠lia': 'Bras√≠lia',
                    'brass beast': 'Brass Beast',
                    'bratislava': 'Bratislava',
                    'brazil': 'Brazil',
                    'brb': 'BRB',
                    'breath of the wild': 'Breath of the Wild',
                    'bremerton': 'Bremerton',
                    'brenda': 'Brenda',
                    'brian': 'Brian',
                    'bridgeport': 'Bridgeport',
                    'brittany': 'Brittany',
                    'bronx': 'Bronx',
                    'brookhaven': 'Brookhaven',
                    'brooklyn': 'Brooklyn',
                    'brownsville': 'Brownsville',
                    'bruce': 'Bruce',
                    'brunei': 'Brunei',
                    'brussels': 'Brussels',
                    'bryan': 'Bryan',
                    'bucharest': 'Bucharest',
                    'budapest': 'Budapest',
                    'buddhism': 'Buddhism',
                    'buddhist': 'Buddhist',
                    'buenos aires': 'Buenos Aires',
                    'buff banner': 'Buff Banner',
                    'buffalo steak sandwich': 'Buffalo Steak Sandvich',
                    'buffalo wild wings': 'Buffalo Wild Wings',
                    'buffy': 'Buffy',
                    'bug snacks': 'Bugsnax',
                    'bugleberry': 'Bugleberry',
                    'bugs bunny': 'Bugs Bunny',
                    'bulgaria': 'Bulgaria',
                    'burbank': 'Burbank',
                    'burger king': 'Burger King',
                    'burkina faso': 'Burkina Faso',
                    'burlington': 'Burlington',
                    'burundi': 'Burundi',
                    'cadence sellsword': 'Kaiden Sellsword',
                    'cadence sellswords': 'Kaiden Sellswords',
                    'cadillac': 'Cadillac',
                    'cairo': 'Cairo',
                    'caleb': 'Caelid',
                    'california': 'California',
                    'call of duty': 'Call of Duty',
                    'cambodia': 'Cambodia',
                    'cambridge': 'Cambridge',
                    'cameroon': 'Cameroon',
                    'canada': 'Canada',
                    'canberra': 'Canberra',
                    'canton': 'Canton',
                    'capcom': 'Capcom',
                    'cape coral': 'Cape Coral',
                    'cape town': 'Cape Town',
                    'cape verde': 'Cape Verde',
                    'cappa': 'Kappa',
                    'capra demon': 'Capra Demon',
                    'caracas': 'Caracas',
                    'carell': 'Carell',
                    'carian': 'Carian',
                    'carl': 'Carl',
                    'carlsbad': 'Carlsbad',
                    'carol': 'Carol',
                    'carolyn': 'Carolyn',
                    'carrollton': 'Carrollton',
                    'cary': 'Cary',
                    'castle sold': 'Castle Sol',
                    'catacombs of karthus': 'Catacombs of Carthus',
                    'cathedral of the deep': 'Cathedral of the Deep',
                    'catherine': 'Catherine',
                    'cathy': 'Cathy',
                    'cayenne': 'Cayenne',
                    'ceaseless discharge': 'Ceaseless Discharge',
                    'cedar rapids': 'Cedar Rapids',
                    'centennial': 'Centennial',
                    'centipede demon': 'Centipede Demon',
                    'central african republic': 'Central African Republic',
                    'ceo': 'CEO',
                    'cfo': 'CFO',
                    'chad': 'Chad',
                    'champaign': 'Champaign',
                    'chandler': 'Chandler',
                    'chaos witch quahog': 'Chaos Witch Quelaag',
                    'chaos witch quelaag': 'Chaos Witch Quelaag',
                    'charge and targe': "Chargin' Targe",
                    'charles': 'Charles',
                    'charleston': 'Charleston',
                    'charlotte': 'Charlotte',
                    'charlottesville': 'Charlottesville',
                    'chattanooga': 'Chattanooga',
                    'cheryl': 'Cheryl',
                    'chesapeake': 'Chesapeake',
                    'chevrolet': 'Chevrolet',
                    'chibi robo': 'Chibi-Robo',
                    'chicago': 'Chicago',
                    'chico': 'Chico',
                    'chile': 'Chile',
                    'china': 'China',
                    'chinatown': 'Chinatown',
                    'chinese': 'Chinese',
                    'chisinau': 'Chisinau',
                    'chris': 'Chris',
                    'christ': 'Christ',
                    'christian': 'Christian',
                    'christianity': 'Christianity',
                    'christina': 'Christina',
                    'christine': 'Christine',
                    'christmas': 'Christmas',
                    'christopher': 'Christopher',
                    'chrono trigger': 'Chrono Trigger',
                    'chrono triggers': "Chrono Trigger's",
                    'chuck e cheese': "Chuck E. Cheese",
                    'chula vista': 'Chula Vista',
                    'church of elle': 'Church of Elleh',
                    'church of the cuckoo': 'Church of the Cuckoo',
                    'churchill': 'Churchill',
                    'cincinnati': 'Cincinnati',
                    'clara': 'Clara',
                    'clarita': 'Clarita',
                    'clarksville': 'Clarksville',
                    'claus': 'Claus',
                    'clean rot': 'Cleanrot',
                    'clean rotten': 'Cleanrotten',
                    'cleanrot knight finley': 'Cleanrot Knight Finlay',
                    'cleanrot night': 'Cleanrot Knight',
                    'cleanrotten nights': 'Cleanrotten Knights',
                    'clearwater': 'Clearwater',
                    'cleopatra': 'Cleopatra',
                    'cleveland': 'Cleveland',
                    'Cloak and Dagger': 'Cloak and Dagger',
                    'clovis': 'Clovis',
                    'college station': 'College Station',
                    'colombia': 'Colombia',
                    'colombo': 'Colombo',
                    'colorado springs': 'Colorado Springs',
                    'colorado': 'Colorado',
                    'columbia': 'Columbia',
                    'columbus': 'Columbus',
                    'comoros': 'Comoros',
                    'concheror': 'Concheror',
                    'concord': 'Concord',
                    'connecticut': 'Connecticut',
                    'connor': 'Connor',
                    'copenhagen': 'Copenhagen',
                    'coral springs': 'Coral Springs',
                    'corona': 'Corona',
                    'corpus christi': 'Corpus Christi',
                    'costa mesa': 'Costa Mesa',
                    'costa rica': 'Costa Rica',
                    'counter strike': 'Counter-Strike',
                    'cow mangler': 'Cow Mangler',
                    'criticola': 'Crit-a-Cola',
                    'critzkrieg': 'Kritzkrieg',
                    'critzkrieged': 'Kritzkrieged',
                    'croatia': 'Croatia',
                    'cronus': 'Cronus',
                    'crossbreed priscilla': 'Crossbreed Priscilla',
                    'crucible knight': 'Crucible Knight',
                    'crucible tree': 'Crucible Tree',
                    'crumbling farrum azula': 'Crumbling Farum Azula',
                    'cruz': 'Cruz',
                    'cto': 'CTO',
                    'cuba': 'Cuba',
                    'cuphead': 'Cuphead',
                    'cyberpunk 2077': 'Cyberpunk 2077',
                    'cynthia': 'Cynthia',
                    'cyprus': 'Cyprus',
                    'czech republic': 'Czech Republic',
                    'dairy queen': 'Dairy Queen',
                    'dallas': 'Dallas',
                    'daly city': 'Daly City',
                    'damascus': 'Damascus',
                    'danbury': 'Danbury',
                    'dancing lion': 'Dancing Lion',
                    'daniel': 'Daniel',
                    'danielle': 'Danielle',
                    'dark and darker': 'Dark and Darker',
                    'dark souls': 'Dark Souls',
                    'dark wood': 'Darkwood',
                    'darkest dungeon': 'Darkest Dungeon',
                    'darkwood': 'Darkwood',
                    'dave': 'Dave',
                    'davenport': 'Davenport',
                    'david': 'David',
                    'davie': 'Davie',
                    'dayton': 'Dayton',
                    'dc': 'DC',
                    'de grace': 'de gr√¢ce',
                    'deacons of the deep': 'Deacons of the Deep',
                    'dead ringer': 'Dead Ringer',
                    'dead rising': 'Dead Rising',
                    'deadpool': 'Deadpool',
                    'death bird': 'Deathbird',
                    'death birds': 'Deathbirds',
                    'deborah': 'Deborah',
                    'debra': 'Debra',
                    'december': 'December',
                    'deep rock galactic': 'Deep Rock Galactic',
                    'deep rock': 'Deep Rock',
                    'deep root': 'Deeproot',
                    'degreaser': 'Degreaser',
                    'delaware': 'Delaware',
                    'delta rune': 'Deltarune',
                    'deltona': 'Deltona',
                    'demeter': 'Demeter',
                    'demo knight': 'Demoknight',
                    'demo man': 'Demoman',
                    'demo night': 'Demoknight',
                    'demon souls': "Demon's Souls",
                    'demons souls': "Demon's Souls",
                    'denise': 'Denise',
                    'denmark': 'Denmark',
                    'dennis': 'Dennis',
                    'denny': 'Denny',
                    'denton': 'Denton',
                    'denver': 'Denver',
                    'derma': 'Jerma',
                    'des moines': 'Des Moines',
                    'destined death': 'Destined Death',
                    'detroit': 'Detroit',
                    'devil man': 'Demoman',
                    'devil may cry': 'Devil May Cry',
                    'devolver digital': 'Devolver Digital',
                    'devolver': 'Devolver',
                    'dhaka': 'Dhaka',
                    'diablo 2': 'Diablo II',
                    'dialos': 'Diallos',
                    'diamond back': 'Diamondback',
                    'diana': 'Diana',
                    'diane': 'Diane',
                    'dili': 'Dili',
                    'dionysus': 'Dionysus',
                    'disc room': 'Disc Room',
                    'discord': 'Discord',
                    'disney': 'Disney',
                    'divine beast dancing lion': 'Divine Beast Dancing Lion',
                    'divine tower': 'Divine Tower',
                    'diy': 'DIY',
                    'djibouti': 'Djibouti',
                    'dlc': 'DLC',
                    'doha': 'Doha',
                    'dominica': 'Dominica',
                    'dominican republic': 'Dominican Republic',
                    'donald': 'Donald',
                    'donna': 'Donna',
                    'doris': 'Doris',
                    'dorothy': 'Dorothy',
                    'dota two': 'Dota 2',
                    'dota': 'Dota',
                    'douglas': 'Douglas',
                    'dover': 'Dover',
                    'downey': 'Downey',
                    'dracula resurection': 'Dracula: Resurrection',
                    'dracula': 'Dracula',
                    'dragon ball': 'Dragon Ball',
                    'dragon slayer': 'Dragonslayer',
                    'dragonball': 'Dragon Ball',
                    'dragonslayer armor': 'Dragonslayer Armor',
                    'dreamcast': 'Dreamcast',
                    'dublin': 'Dublin',
                    'duke nukem': 'Duke Nukem',
                    'duluth': 'Duluth',
                    'dumbledore': 'Dumbledore',
                    'dung eater': 'Dung Eater',
                    'dung-eater': 'Dung Eater',
                    'dungeons and dragons': 'Dungeons & Dragons',
                    'dunkey': 'Dunkey',
                    'durban': 'Durban',
                    'durham': 'Durham',
                    'dushanbe': 'Dushanbe',
                    'dvd': 'DVD',
                    'dwayne': 'Dwayne',
                    'dx racer': 'DXRacer',
                    'dylan': 'Dylan',
                    'earth': 'Earth',
                    'east los angeles': 'East Los Angeles',
                    'east timor': 'East Timor',
                    'easter': 'Easter',
                    'eau claire': 'Eau Claire',
                    'ebay': 'eBay',
                    'ecuador': 'Ecuador',
                    'edison': 'Edison',
                    'edward': 'Edward',
                    'egon': 'Igon',
                    'egypt': 'Egypt',
                    'einstein': 'Einstein',
                    'el cajon': 'El Cajon',
                    'el centro': 'El Centro',
                    'el monte': 'El Monte',
                    'el paso': 'El Paso',
                    'el salvador': 'El Salvador',
                    'elber of the briar': 'Elemer of the Briar',
                    'elden beast': 'Elden Beast',
                    'elden ring': 'Elden Ring',
                    'elden rings': "Elden Ring's",
                    'elder scrolls': 'Elder Scrolls',
                    'electronic arts': 'Electronic Arts',
                    'elgin ring': 'Elden Ring',
                    'elgin': 'Elgin',
                    'elijah': 'Elijah',
                    'elizabeth': 'Elizabeth',
                    'elk grove': 'Elk Grove',
                    'elkhart': 'Elkhart',
                    'elphiol': 'Elpheal',
                    'ember knight': 'Ember Knight',
                    'ember knights': 'Ember Knights',
                    'emily': 'Emily',
                    'emma': 'Emma',
                    'england': 'England',
                    'english': 'English',
                    'epic game store': 'Epic Games Store',
                    'epic games': 'Epic Games',
                    'equatorial guinea': 'Equatorial Guinea',
                    'erd tree': 'Erdtree',
                    'erdtree avatar': 'Erdtree Avatar',
                    'erdtree': 'Erdtree',
                    'erdtrees': 'Erdtrees',
                    'eric': 'Eric',
                    'erie': 'Erie',
                    'eritrea': 'Eritrea',
                    'escondido': 'Escondido',
                    'espen': 'Esfand',
                    'estonia': 'Estonia',
                    'estus flask': 'Estus Flask',
                    'estus shard': 'Estus Shard',
                    'estus': 'Estus',
                    'eternal reward': 'Eternal Reward',
                    'ethan': 'Ethan',
                    'ethiopia': 'Ethiopia',
                    'eu': 'EU',
                    'eugene': 'Eugene',
                    'eureka effect': 'Eureka Effect',
                    'europe': 'Europe',
                    'europian': 'European',
                    'evansville': 'Evansville',
                    'evelyn': 'Evelyn',
                    'ever jail': 'Evergaol',
                    'everett': 'Everett',
                    'facebook': 'Facebook',
                    'fail fish': 'FailFish',
                    'fairfield': 'Fairfield',
                    'fall guys': 'Fall Guys',
                    'falling star beast': 'Falling Star Beast',
                    'falling star beasts': 'Falling Star Beasts',
                    'family guy': 'Family Guy',
                    'fan of war': "Fan O' War",
                    'far cry': 'Far Cry',
                    'faramazula': 'Farum Azula',
                    'fargo': 'Fargo',
                    'farm software': 'FromSoftware',
                    'faron keep': 'Farron Keep',
                    'fathers day': "Father's Day",
                    'fayetteville': 'Fayetteville',
                    'february': 'February',
                    'ferrari': 'Ferrari',
                    'final fantasy': 'Final Fantasy',
                    'finger maiden': 'Finger Maiden',
                    'finger reader': 'Finger Reader',
                    'finland': 'Finland',
                    'finn': 'Finn',
                    'fire giant': 'Fire Giant',
                    'fire giants': 'Fire Giants',
                    'fire link': 'Firelink',
                    'fistful of frags': 'Fistful of Frags',
                    'fists of steel': 'Fists of Steel',
                    'five guys': 'Five Guys',
                    'five nights at freddy': 'Five Nights at Freddy',
                    'flint': 'Flint',
                    'florida': 'Florida',
                    'fmv': 'FMV',
                    'fontana': 'Fontana',
                    'ford': 'Ford',
                    'fort collins': 'Fort Collins',
                    'fort lauderdale': 'Fort Lauderdale',
                    'fort smith': 'Fort Smith',
                    'fort wayne': 'Fort Wayne',
                    'fort worth': 'Fort Worth',
                    'fortisax': 'Fortisax',
                    'fortnite': 'Fortnite',
                    'fps': 'FPS',
                    'france': 'France',
                    'frances': 'Frances',
                    'francis': 'Francis',
                    'francois': 'Francois',
                    'frank': 'Frank',
                    'franklin': 'Franklin',
                    'frederick': 'Frederick',
                    'fredericksburg': 'Fredericksburg',
                    'fremont': 'Fremont',
                    'french guiana': 'French Guiana',
                    'frenzied flame': 'Frenzied Flame',
                    'fresno': 'Fresno',
                    'freya': 'Freya',
                    'friday': 'Friday',
                    'frisco': 'Frisco',
                    'frodo': 'Frodo',
                    'from software': 'FromSoftware',
                    'ftk': 'FTK',
                    'fullerton': 'Fullerton',
                    'funafuti': 'Funafuti',
                    'furnace golem': 'Furnace Golem',
                    'gabon': 'Gabon',
                    'gabriel': 'Gabriel',
                    'gaia': 'Gaia',
                    'gainesville': 'Gainesville',
                    'game boy color': 'Game Boy Color',
                    'game boy': 'Game Boy',
                    'gamecube': 'GameCube',
                    'gamer v portable': 'Gamer V Portable',
                    'gandalf': 'Gandalf',
                    'gaping dragon': 'Gaping Dragon',
                    'garank': 'Gurranq ',
                    'garden grove': 'Garden Grove',
                    'garland': 'Garland',
                    'gary': 'Gary',
                    'gas passer': 'Gas Passer',
                    'gastonia': 'Gastonia',
                    'gazillionaire': 'Gazillionaire',
                    'genshin': 'Genshin',
                    'geo guesser': 'GeoGuessr',
                    'george': 'George',
                    'georgetown': 'Georgetown',
                    'georgia': 'Georgia',
                    'gerald': 'Gerald',
                    'Gerbaland': 'JermaLand',
                    'germ': 'Jerm',
                    'germa': 'Jerma',
                    'Germabucks': 'Jerma Bucks',
                    'germacraft': 'JermaCraft',
                    'german 085': 'Jerma985',
                    'german 985': 'Jerma985',
                    'German Crash': 'JermaCraft',
                    'German Rumble': 'Jerma Rumble',
                    'german': 'Jerma',
                    'german985': 'Jerma985',
                    'germany': 'Germany',
                    'germas': 'Jermas',
                    'ghana': 'Ghana',
                    'giant crusher': 'Giant-Crusher',
                    'gilbert': 'Gilbert',
                    'gilroy': 'Gilroy',
                    'glendale': 'Glendale',
                    'glenstone': 'Glintstone',
                    'glooman': 'Glue Man',
                    'gloria': 'Gloria',
                    'gloves of running urgently': 'Gloves of Running Urgently',
                    'god free': 'Godfrey',
                    'god hand': 'God Hand',
                    'god of grace': 'God of Grace',
                    'god of war': 'God of War',
                    'god skin duo': 'Godskin Duo',
                    'god skin': 'Godskin',
                    'godric': 'Godrick',
                    'godskin apostle': 'Godskin Apostle',
                    'godskin noble': 'Godskin Noble',
                    'godwin': 'Godwyn',
                    'gold mask': 'Goldmask',
                    'golden order': 'Golden Order',
                    'golden wrench': 'Golden Wrench',
                    'google doc': 'Google Doc',
                    'google': 'Google',
                    'gotham knights': 'Gotham Knights',
                    'gotham': 'Gotham',
                    'grand junction': 'Grand Junction',
                    'grand prairie': 'Grand Prairie',
                    'grand rapids': 'Grand Rapids',
                    'grand theft auto': 'Grand Theft Auto',
                    'greece': 'Greece',
                    'greeley': 'Greeley',
                    'green bay': 'Green Bay',
                    'greensboro': 'Greensboro',
                    'greenville': 'Greenville',
                    'gregory': 'Gregory',
                    'grenada': 'Grenada',
                    'grenadines': 'Grenadines',
                    'gresham': 'Gresham',
                    'grotto beast': 'Grotto Beasts',
                    'grotto beasts': 'Grotto Beasts',
                    'guatemala': 'Guatemala',
                    'guinea-bissau': 'Guinea-Bissau',
                    'guinea': 'Guinea',
                    'gulfport': 'Gulfport',
                    'gun boats': 'Gunboats',
                    'gunboats': 'Gunboats',
                    'gunslinger': 'Gunslinger',
                    'guyana': 'Guyana',
                    'gwyn': 'Gwyn',
                    'gwynne': 'Gwyn',
                    'hades': 'Hades',
                    'hagerstown': 'Hagerstown',
                    'hagrid': 'Hagrid',
                    'haiti': 'Haiti',
                    'half-life': 'Half-Life',
                    'halfs of toichi': 'Half-Zatoichi',
                    'halig tree': 'Haligtree',
                    'hallig tree': 'Haligtree',
                    'halloween': 'Halloween',
                    'halves of toichi': 'Half-Zatoichi',
                    'hampton': 'Hampton',
                    'hannah': 'Hannah',
                    'hanoi': 'Hanoi',
                    'hanukkah': 'Hanukkah',
                    'hanzo': 'Hanzo',
                    'harlingen': 'Harlingen',
                    'harold': 'Harold',
                    'harrisburg': 'Harrisburg',
                    'harry': 'Harry',
                    'hartford': 'Hartford',
                    'harvey': 'Harvey',
                    'hawaii': 'Hawaii',
                    'hayetta': 'Hyetta',
                    'hayward': 'Hayward',
                    'hd': 'HD',
                    'heather': 'Heather',
                    'hecate': 'Hecate',
                    'heidi': 'Heidi',
                    'helen': 'Helen',
                    'helios': 'Helios',
                    'hello kitty': 'Hello Kitty',
                    'helsinki': 'Helsinki',
                    'hemet': 'Hemet',
                    'henderson': 'Henderson',
                    'henry': 'Henry',
                    'hephaestus': 'Hephaestus',
                    'hera': 'Hera',
                    'hercules': 'Hercules',
                    'herman miller': 'Herman Miller',
                    'hermes': 'Hermes',
                    'hermione': 'Hermione',
                    'hershey': 'Hershey',
                    'herzegovina': 'Herzegovina',
                    'hestia': 'Hestia',
                    'hew long heater': 'Huo-Long Heater',
                    'hialeah': 'Hialeah',
                    'hickory': 'Hickory',
                    'high point': 'High Point',
                    'highlands ranch': 'Highlands Ranch',
                    'hillsboro': 'Hillsboro',
                    'Himalayas': 'Himalayas',
                    'hindu': 'Hindu',
                    'hinduism': 'Hinduism',
                    'holiday punch': 'Holiday Punch',
                    'holland': 'Holland',
                    'hollow knight': 'Hollow Knight',
                    'holly': 'Holly',
                    'hollywood': 'Hollywood',
                    'homewrecker': 'Homewrecker',
                    'honda': 'Honda',
                    'honduras': 'Honduras',
                    'hong kong': 'Hong Kong',
                    'honiara': 'Honiara',
                    'honolulu': 'Honolulu',
                    'hooters': 'Hooters',
                    'horolu': 'Hoarah Loux',
                    'horseless headless horseman': 'Horseless Headless Horsemann',
                    'hotline miami': 'Hotline Miami',
                    'houma': 'Houma',
                    'house flipper': 'House Flipper',
                    'house hoslo': 'House Hoslow',
                    'houston': 'Houston',
                    'hp': 'HP',
                    'huckleberry finn': 'Huckleberry Finn',
                    'hungary': 'Hungary',
                    'huntington beach': 'Huntington Beach',
                    'huntington': 'Huntington',
                    'huntsman': 'Huntsman',
                    'huntsville': 'Huntsville',
                    'hylix': 'Hylics',
                    'hypno space': 'Hypnospace',
                    'hypnospace': 'Hypnospace',
                    'hyundai': 'Hyundai',
                    'i': 'I',
                    'ian': 'Ian',
                    'ibm': 'IBM',
                    'iceland': 'Iceland',
                    'idaho': 'Idaho',
                    'ii': 'II',
                    'iii': 'III',
                    'illinois': 'Illinois',
                    'illuminati': 'Illuminati',
                    'independence day': 'Independence Day',
                    'india': 'India',
                    'indiana': 'Indiana',
                    'indianapolis': 'Indianapolis',
                    'indio': 'Indio',
                    'indonesia': 'Indonesia',
                    'infinity nikki': 'Infinity Nikki',
                    'inglewood': 'Inglewood',
                    'instagram': 'Instagram',
                    'iowa city': 'Iowa City',
                    'iowa': 'Iowa',
                    'ip': 'IP',
                    'ipad': 'iPad',
                    'iphone': 'iPhone',
                    'ipod': 'iPod',
                    'ips': 'IPS',
                    'iran': 'Iran',
                    'iraq': 'Iraq',
                    'irc': 'IRC',
                    'ireland': 'Ireland',
                    'irish': 'Irish',
                    'iron man': 'Iron Man',
                    'ironman': 'Iron Man',
                    'irvine': 'Irvine',
                    'irving': 'Irving',
                    'isaac': 'Isaac',
                    'isabella': 'Isabella',
                    'islam': 'Islam',
                    'islamabad': 'Islamabad',
                    'islamic': 'Islamic',
                    'islander': 'Eyelander',
                    'islip': 'Islip',
                    'israel': 'Israel',
                    'italics': 'Etalyx',
                    'italy': 'Italy',
                    'itunes': 'iTunes',
                    'iv': 'IV',
                    'ix': 'IX',
                    'jack in the box': 'Jack in the Box',
                    'jack-in-the-box': 'Jack in the Box',
                    'jack': 'Jack',
                    'jackson': 'Jackson',
                    'jacksonville': 'Jacksonville',
                    'jacob': 'Jacob',
                    'jacqueline': 'Jacqueline',
                    'jakarta': 'Jakarta',
                    'jake': 'Jake',
                    'jamaica': 'Jamaica',
                    'james': 'James',
                    'janet': 'Janet',
                    'janice': 'Janice',
                    'january': 'January',
                    'japan': 'Japan',
                    'japanese': 'Japanese',
                    'jason': 'Jason',
                    'jean': 'Jean',
                    'jeep': 'Jeep',
                    'jeffrey': 'Jeffrey',
                    'jennifer': 'Jennifer',
                    'jeremiah': 'Jeremiah',
                    'jeremy': 'Jeremy',
                    'jerma birthday': 'jermaBirthday',
                    'jerma chomp': 'jermaChomp',
                    'jerma chomps': 'jermaChomps',
                    'jerma comet': 'jermaComet',
                    'jerma dafoe': 'jermaDafoe',
                    'jerma disgust': 'jermaDisgust',
                    'jerma earth': 'jermaEarth',
                    'jerma egg': 'jermaEgg',
                    'jerma explaining how': 'jermaExplainingHow',
                    'jerma F': 'jermaF',
                    'jerma fear': 'jermaFear',
                    'jerma fireman': 'jermaFireman',
                    'jerma grin': 'jermaGrin',
                    'jerma heart': 'jermaHeart',
                    'jerma hearts': 'jermaHearts',
                    'jerma iq': 'jermaIQ',
                    'jerma jex': 'jermaJex',
                    'jerma mars': 'jermaMars',
                    'jerma moon': 'jermaMoon',
                    'jerma mustard': 'jermaMustard',
                    'jerma old': 'jermaOld',
                    'jerma on': 'jermaOn',
                    'jerma oneguy': 'jermaOneguy',
                    'jerma pain': 'jermaPain',
                    'jerma peek': 'jermaPeek',
                    'jerma pluto': 'jermaPluto',
                    'jerma pointl': 'jermaPointL',
                    'jerma pointr': 'jermaPointR',
                    'jerma pop': 'jermaPop',
                    'jerma q': 'jermaQ',
                    'jerma radish': 'jermaRadish',
                    'jerma rat': 'jermaRat',
                    'jerma rats': 'jermaRatS',
                    'jerma rock': 'jermaRock',
                    'jerma saturn': 'jermaSaturn',
                    'jerma shrimp': 'jermaShrimp',
                    'jerma slug': 'jermaSlug',
                    'jerma snort': 'jermaSnort',
                    'jerma soon': 'jermaSoon',
                    'jerma sour': 'jermaSour',
                    'jerma sun': 'jermaSun',
                    'jerma thing': 'jermaThing',
                    'jerma tv': 'jermaTV',
                    'jerma upset': 'jermaUpset',
                    'jerma venus': 'jermaVenus',
                    'jerma walk': 'jermaWalk',
                    'jermabirthday': 'jermaBirthday',
                    'jermabld': 'jermaBld',
                    'jermachomp': 'jermaChomp',
                    'jermacomet': 'jermaComet',
                    'jermadafoe': 'jermaDafoe',
                    'jermadisgust': 'jermaDisgust',
                    'jermaearth': 'jermaEarth',
                    'jermaegg': 'jermaEgg',
                    'jermaf': 'jermaF',
                    'jermafear': 'jermaFear',
                    'jermafireman': 'jermaFireman',
                    'jermagb': 'jermaGB',
                    'jermaglue': 'jermaGlue',
                    'jermagrin': 'jermaGrin',
                    'jermaheart': 'jermaHeart',
                    'jermaiq': 'jermaIQ',
                    'jermajex': 'jermaJex',
                    'jermajex2': 'jermaJex2',
                    'jermajpg': 'jermaJPG',
                    'jermajup1': 'jermaJup1',
                    'jermajup2': 'jermaJup2',
                    'jermajup3': 'jermaJup3',
                    'jermajup4': 'jermaJup4',
                    'jermak': 'Jerma',
                    'jermamars': 'jermaMars',
                    'jermameowdy': 'jermaMeowdy',
                    'jermamerc': 'jermaMerc',
                    'jermamoon': 'jermaMoon',
                    'jermamustard': 'jermaMustard',
                    'jerman osewipe': 'jermaNosewipe',
                    'jermanosewipe': 'jermaNosewipe',
                    'jermaold': 'jermaOld',
                    'jermaon': 'jermaOn',
                    'jermaoneguy': 'jermaOneguy',
                    'jermapain': 'jermaPain',
                    'jermapeek': 'jermaPeek',
                    'jermapluto': 'jermaPluto',
                    'jermapointl': 'jermaPointL',
                    'jermapointr': 'jermaPointR',
                    'jermapop': 'jermaPop',
                    'jermaq': 'jermaQ',
                    'jermaradish': 'jermaRadish',
                    'jermarat': 'jermaRat',
                    'jermarats': 'jermaRatS',
                    'jermarock': 'jermaRock',
                    'jermasaturn': 'jermaSaturn',
                    'jermashrimp': 'jermaShrimp',
                    'jermaslug': 'jermaSlug',
                    'jermasnort': 'jermaSnort',
                    'jermasoon': 'jermaSoon',
                    'jermasour': 'jermaSour',
                    'jermasun': 'jermaSun',
                    'jermat': 'Jerma',
                    'jermathing': 'jermaThing',
                    'jermatv': 'jermaTV',
                    'jermaupset': 'jermaUpset',
                    'jermavenus': 'jermaVenus',
                    'jermaw': 'Jerma',
                    'jermawalk': 'jermaWalk',
                    'jerry': 'Jerry',
                    'jersey city': 'Jersey City',
                    'jersey mike': 'Jersey Mike',
                    'jerusalem': 'Jerusalem',
                    'jesse': 'Jesse',
                    'jessica': 'Jessica',
                    'jesus': 'Jesus',
                    'jim': 'Jim',
                    'jimmy': 'Jimmy',
                    'joan': 'Joan',
                    'joe': 'Joe',
                    'joel': 'Joel',
                    'johanessburg': 'Johannesburg',
                    'john': 'John',
                    'johnson city': 'Johnson City',
                    'johnson': 'Johnson',
                    'joliet': 'Joliet',
                    'jonathan': 'Jonathan',
                    'jones': 'Jones',
                    'jordan': 'Jordan',
                    'jose': 'Jose',
                    'joseph': 'Joseph',
                    'joshua': 'Joshua',
                    'joyce': 'Joyce',
                    'juan': 'Juan',
                    'judaic': 'Judaic',
                    'judaism': 'Judaism',
                    'judith': 'Judith',
                    'judy': 'Judy',
                    'julia': 'Julia',
                    'julie': 'Julie',
                    'july': 'July',
                    'jump king': 'Jump King',
                    'june': 'June',
                    'junk rat': 'Junkrat',
                    'jupiter': 'Jupiter',
                    'jurupa valley': 'Jurupa Valley',
                    'justin': 'Justin',
                    'k. kona': 'KKona',
                    'kabul': 'Kabul',
                    'kalamazoo': 'Kalamazoo',
                    'kansas city': 'Kansas City',
                    'kansas': 'Kansas',
                    'kappa': 'Kappa',
                    'karen': 'Karen',
                    'karyan': 'Carian',
                    'katana zero': 'Katana ZERO',
                    'katherine': 'Katherine',
                    'kathleen': 'Kathleen',
                    'kathmandu': 'Kathmandu',
                    'kathryn': 'Kathryn',
                    'kathy mitchell': 'Cathy Mitchell',
                    'kayla': 'Kayla',
                    'kazakhstan': 'Kazakhstan',
                    'keith': 'Keith',
                    'kelly': 'Kelly',
                    'ken': 'Ken',
                    'kenneth hite': 'Kenneth Haight',
                    'kenneth': 'Kenneth',
                    'kennewick': 'Kennewick',
                    'kenosha': 'Kenosha',
                    'kenshi': 'Kenshi',
                    'kent': 'Kent',
                    'kentucky': 'Kentucky',
                    'kenya': 'Kenya',
                    'kevin': 'Kevin',
                    'kfc': 'KFC',
                    'kia': 'Kia',
                    'kickstarter': 'Kickstarter',
                    'kiev': 'Kiev',
                    'killeen': 'Killeen',
                    'killing gloves of boxing': 'Killing Gloves of Boxing',
                    'kim': 'Kim',
                    'kimberly': 'Kimberly',
                    'king seeker frant': 'Kingseeker Frampt',
                    'kingsport': 'Kingsport',
                    'kiribati': 'Kiribati',
                    'kissimmee': 'Kissimmee',
                    'knoxville': 'Knoxville',
                    'komodo hype': 'KomodoHype',
                    'konami': 'Konami',
                    'koop de grace': 'coup de gr√¢ce',
                    'korea': 'Korea',
                    'korean': 'Korean',
                    'kosovo': 'Kosovo',
                    'Kraken': 'Criken',
                    'kuala lumpur': 'Kuala Lumpur',
                    'kurt': 'Kurt',
                    'kuwait city': 'Kuwait City',
                    'kuwait': 'Kuwait',
                    'kwanzaa': 'Kwanzaa',
                    'kyle': 'Kyle',
                    'kyrgyzstan': 'Kyrgyzstan',
                    'la crosse': 'La Crosse',
                    'la paz': 'La Paz',
                    'labor day': 'Labor Day',
                    'lady gaga': 'Lady Gaga',
                    'lafayette': 'Lafayette',
                    'lake charles': 'Lake Charles',
                    'lake of rot': 'Lake of Rat',
                    'lakeland': 'Lakeland',
                    'lakewood': 'Lakewood',
                    'lamborghini': 'Lamborghini',
                    'lancaster': 'Lancaster',
                    'lands between': 'Lands Between',
                    'lansing': 'Lansing',
                    'laos': 'Laos',
                    'laredo': 'Laredo',
                    'larry': 'Larry',
                    'las cruces': 'Las Cruces',
                    'las vegas': 'Las Vegas',
                    'last hero of nostalgaia': 'Last Hero of Nostalgaia',
                    'latvia': 'Latvia',
                    'laura': 'Laura',
                    'lauren': 'Lauren',
                    'lawrence': 'Lawrence',
                    'lcd': 'LCD',
                    'league city': 'League City',
                    'leesburg': 'Leesburg',
                    'legend of zelda': 'Legend of Zelda',
                    'lehigh acres': 'Lehigh Acres',
                    'lendel': 'Lyndell',
                    'lendell': 'Lyndell',
                    'leominster': 'Leominster',
                    'lesotho': 'Lesotho',
                    'leta': 'Leda',
                    'lethal company': 'Lethal Company',
                    'lethal league blaze': 'Lethal League Blaze',
                    'lethal league': 'Lethal League',
                    'lewisville': 'Lewisville',
                    'lexington': 'Lexington',
                    'lexus': 'Lexus',
                    'liberia': 'Liberia',
                    'liberty launcher': 'Liberty Launcher',
                    'libya': 'Libya',
                    'liechtenstein': 'Liechtenstein',
                    'life alex': 'Life: Alyx',
                    'life is strange': 'Life is Strange',
                    'lima': 'Lima',
                    'limb grave': 'Limgrave',
                    'lincoln': 'Lincoln',
                    'linda': 'Linda',
                    'lindell': 'Lyndell',
                    'lion king': 'Lion King',
                    'lisa': 'Lisa',
                    'lisbon': 'Lisbon',
                    'lithuania': 'Lithuania',
                    'little caesars': 'Little Caesars',
                    'little rock': 'Little Rock',
                    'living jar': 'Living Jar',
                    'ljubljana': 'Ljubljana',
                    'lmao': 'LMAO',
                    'lmfao': 'LMFAO',
                    'lmg': 'LMG',
                    'logan': 'Logan',
                    'lol': 'LOL',
                    'london': 'London',
                    'long beach': 'Long Beach',
                    'longview': 'Longview',
                    'looney tunes': 'Looney Tunes',
                    'loop hero': 'Loop Hero',
                    'loose cannon': 'Loose Cannon',
                    'lopez': 'Lopez',
                    'lorain': 'Lorain',
                    'lord of blood': 'Lord of Blood',
                    'lord of cinder': 'Lord of Cinder',
                    'lord of the ring': 'Lord of the Rings',
                    'lord of the rings': 'Lord of the Rings',
                    'loretta': 'Loretta',
                    'lori': 'Lori',
                    'los angeles': 'Los Angeles',
                    'lost grace': 'Lost Grace',
                    'louis': 'Louis',
                    'louisiana': 'Louisiana',
                    'louisville': 'Louisville',
                    'lowell': 'Lowell',
                    'lubbock': 'Lubbock',
                    'lucio': 'L√∫cio',
                    'luverina of the lakes': 'Liurnia of the Lakes',
                    'luxembourg': 'Luxembourg',
                    'lydell, the royal capital': 'Lyndell, the Royal Capital',
                    'lynchburg': 'Lynchburg',
                    'lynn': 'Lynn',
                    'macedonia': 'Macedonia',
                    'macon': 'Macon',
                    'mad milk': 'Mad Milk',
                    'madagascar': 'Madagascar',
                    'madison': 'Madison',
                    'madrid': 'Madrid',
                    'magma whip candlestick': 'Magma-Whip Candlestick',
                    'magma worm maker': 'Magma Wyrm Makar',
                    'magma worm': 'Magma Wyrm',
                    'maine': 'Maine',
                    'majuro': 'Majuro',
                    'malawi': 'Malawi',
                    'malaysia': 'Malaysia',
                    'mal√©': 'Mal√©',
                    'malekith': 'Maliketh',
                    'mali': 'Mali',
                    'malta': 'Malta',
                    'man melter': 'Manmelter',
                    'man treads': 'Mantreads',
                    'man-melter': 'Manmelter',
                    'manama': 'Manama',
                    'manchester': 'Manchester',
                    'manfred': 'Manfred',
                    'manhattan': 'Manhattan',
                    'manila': 'Manila',
                    'marcus': 'Marcus',
                    'margaret': 'Margaret',
                    'maria': 'Maria',
                    'marie': 'Marie',
                    'marilyn': 'Marilyn',
                    'mario galaxy': 'Mario Galaxy',
                    'mario kart': 'Mario Kart',
                    'mario maker': 'Mario Maker',
                    'mario odyssey': 'Mario Odyssey',
                    'mario party': 'Mario Party',
                    'mario sunshine': 'Mario Sunshine',
                    'mario': 'Mario',
                    'market gardener': 'Market Gardener',
                    'mars': 'Mars',
                    'marshall islands': 'Marshall Islands',
                    'martha': 'Martha',
                    'martin': 'Martin',
                    'marvel': 'Marvel',
                    'mary': 'Mary',
                    'maryland': 'Maryland',
                    'marysville': 'Marysville',
                    'maserati': 'Maserati',
                    'mason': 'Mason',
                    'massachusetts': 'Massachusetts',
                    'master system': 'Master System',
                    'mastercard': 'Mastercard',
                    'matt': 'Matt',
                    'matthew': 'Matthew',
                    'mauldin': 'Mauldin',
                    'mauritania': 'Mauritania',
                    'mauritius': 'Mauritius',
                    'mausoleum knight': 'Mausoleum Knight',
                    'mazda': 'Mazda',
                    'mcallen': 'McAllen',
                    'mccree': 'McCree',
                    'mcdonald': 'McDonald',
                    'mckinney': 'McKinney',
                    'mclaren': 'McLaren',
                    'medford': 'Medford',
                    'medigun': 'Medi Gun',
                    'medusa': 'Medusa',
                    'megan': 'Megan',
                    'melania': 'Malenia',
                    'melissa': 'Melissa',
                    'memorial day': 'Memorial Day',
                    'memphis': 'Memphis',
                    'merced': 'Merced',
                    'mercedes benz': 'Mercedes-Benz',
                    'mercedes': 'Mercedes',
                    'merchant kale': 'Merchant Kal√©',
                    'mercury': 'Mercury',
                    'merica': 'Marika',
                    'mesa': 'Mesa',
                    'mesmer': 'Messmer',
                    'metairie': 'Metairie',
                    'metal gear rising': 'Metal Gear Rising',
                    'metal gear solid': 'Metal Gear Solid',
                    'metal gear': 'Metal Gear',
                    'mexico': 'Mexico',
                    'mf doom': 'MF DOOM',
                    'miami gardens': 'Miami Gardens',
                    'miami': 'Miami',
                    'michael': 'Michael',
                    'micheal': 'Michael',
                    'micheala': 'Miquella',
                    'michelle': 'Michelle',
                    'michigan': 'Michigan',
                    'mickey mouse': 'Mickey Mouse',
                    'mickey': 'Mickey',
                    'micronesia': 'Micronesia',
                    'microsoft': 'Microsoft',
                    'midland': 'Midland',
                    'mikala': 'Miquella',
                    'mike': 'Mike',
                    'milenio': 'Malenia',
                    'millennia': 'Malenia',
                    'milwaukee': 'Milwaukee',
                    'mimic tear': 'Mimic Tear',
                    'minecraft': 'Minecraft',
                    'minneapolis': 'Minneapolis',
                    'minnesota': 'Minnesota',
                    'minsk': 'Minsk',
                    'minus too': '-2',
                    'minus two': '-2',
                    'miquela': 'Miquella',
                    'miramar': 'Miramar',
                    'mission viejo': 'Mission Viejo',
                    'mississippi': 'Mississippi',
                    'missouri': 'Missouri',
                    'mist wood': 'Mistwood',
                    'mitsubishi': 'Mitsubishi',
                    'miyazaki': 'Miyazaki',
                    'mlg': 'MLG',
                    'mmo': 'MMO',
                    'modesto': 'Modesto',
                    'mog': 'Mohg',
                    'mogwin dynasty': 'Mohgwyn Dynasty',
                    'mogwin': 'Mohgwyn',
                    'moldova': 'Moldova',
                    'mona lisa': 'Mona Lisa',
                    'monaco': 'Monaco',
                    'monday': 'Monday',
                    'mongolia': 'Mongolia',
                    'monka a': 'monkaA',
                    'monka omega': 'monkaOMEGA',
                    'monka s-ing': 'monkaS-ing',
                    'monka s': 'monkaS',
                    'monka w': 'monkaW',
                    'monka-ass': 'monkaS',
                    'monka-esque': 'monkaS',
                    'monka-essing': 'monkaS-ing',
                    'monroe': 'Monroe',
                    'monster hunter world': 'Monster Hunter: World',
                    'monster hunter': 'Monster Hunter',
                    'monster rancher': 'Monster Rancher',
                    'monster ranger': 'Monster Ranger',
                    'montana': 'Montana',
                    'montenegro': 'Montenegro',
                    'montevideo': 'Montevideo',
                    'montgomery': 'Montgomery',
                    'moonlight butterfly': 'Moonlight Butterfly',
                    'mordor': 'Mordor',
                    'moreno valley': 'Moreno Valley',
                    'morgan': 'Morgan',
                    'morgoth': 'Morgott',
                    'morocco': 'Morocco',
                    'mortal combat': 'Mortal Kombat',
                    'mortal kombat': 'Mortal Kombat',
                    'moscow': 'Moscow',
                    'moses': 'Moses',
                    'mothers day': "Mother's Day",
                    'mount everest': 'Mount Everest',
                    'mountaintops of the giants': 'Mountaintops of the Giants',
                    'moxtella': 'Nokstella',
                    'mozambique': 'Mozambique',
                    'multi versus': 'MultiVersus',
                    'multi-versus': 'MultiVersus',
                    'murfreesboro': 'Murfreesboro',
                    'murrieta': 'Murrieta',
                    'muscat': 'Muscat',
                    'muskegon': 'Muskegon',
                    'my little pony': 'My Little Pony',
                    'myanmar': 'Myanmar',
                    'mycala': 'Miquella',
                    'mycola': 'Miquella',
                    'mykola': 'Miquella',
                    'mykyla': 'Miquella',
                    'myrtle beach': 'Myrtle Beach',
                    'nameless king': 'Nameless King',
                    'namibia': 'Namibia',
                    'nampa': 'Nampa',
                    'nancy drew': 'Nancy Drew',
                    'nancy': 'Nancy',
                    'naperville': 'Naperville',
                    'nasa': 'NASA',
                    'nashua': 'Nashua',
                    'nashville': 'Nashville',
                    'natalie': 'Natalie',
                    'natasha': 'Natascha',
                    'nate': 'Nate',
                    'nathan': 'Nathan',
                    'natural born of the void': 'Naturalborn of the Void',
                    'nauru': 'Nauru',
                    'naypyidaw': 'Naypyidaw',
                    'nba 2k': 'NBA 2K',
                    'nba jam': 'NBA Jam',
                    'nba': 'NBA',
                    'nebraska': 'Nebraska',
                    'neil': 'Neil',
                    'neon annihilator': 'Neon Annihilator',
                    'nepal': 'Nepal',
                    'neptune': 'Neptune',
                    'netflix': 'Netflix',
                    'netherlands': 'Netherlands',
                    'nevada': 'Nevada',
                    'nevis': 'Nevis',
                    'new bedford': 'New Bedford',
                    'new delhi': 'New Delhi',
                    'new hampshire': 'New Hampshire',
                    'new haven': 'New Haven',
                    'new jersey': 'New Jersey',
                    'new mexico': 'New Mexico',
                    'new orleans': 'New Orleans',
                    'new years': "New Years",
                    'new york': 'New York',
                    'new zealand': 'New Zealand',
                    'newark': 'Newark',
                    'newport news': 'Newport News',
                    'ngerulmud': 'Ngerulmud',
                    'nicaragua': 'Nicaragua',
                    'nicholas': 'Nicholas',
                    'nicole': 'Nicole',
                    'nicosia': 'Nicosia',
                    'niger': 'Niger',
                    'nigeria': 'Nigeria',
                    'nike': 'Nike',
                    'nikola': 'Nikola',
                    'nikon': 'Nikon',
                    'nintendo 3ds': 'Nintendo 3DS',
                    'nintendo ds': 'Nintendo DS',
                    'nintendo switch': 'Nintendo Switch',
                    'nintendo wii': 'Nintendo Wii',
                    'nintendo': 'Nintendo',
                    'nissan': 'Nissan',
                    'noah': 'Noah',
                    'nocron': 'Nokron',
                    'noita': 'Noita',
                    'nokhron': 'Nokron',
                    'nokia': 'Nokia',
                    'norfolk': 'Norfolk',
                    'norman': 'Norman',
                    'north america': 'North America',
                    'north carolina': 'North Carolina',
                    'north charleston': 'North Charleston',
                    'north dakota': 'North Dakota',
                    'north hempstead': 'North Hempstead',
                    'north korea': 'North Korea',
                    'north las vegas': 'North Las Vegas',
                    'north port': 'North Port',
                    'norwalk': 'Norwalk',
                    'norway': 'Norway',
                    'norwich': 'Norwich',
                    'nostradamus': 'Nostradamus',
                    'november': 'November',
                    'nukualofa': "Nuku'alofa",
                    'numby bambi': 'namby-pamby',
                    'oakland': 'Oakland',
                    'ocala': 'Ocala',
                    'oceanside': 'Oceanside',
                    'october': 'October',
                    'odessa': 'Odessa',
                    'ogden': 'Ogden',
                    'ogwin': 'Mohgwyn',
                    'ohio': 'Ohio',
                    'oklahoma city': 'Oklahoma City',
                    'oklahoma': 'Oklahoma',
                    'olathe': 'Olathe',
                    'olive garden': 'Olive Garden',
                    'olivia': 'Olivia',
                    'olympia': 'Olympia',
                    'omaha': 'Omaha',
                    'oman': 'Oman',
                    'omen killer': 'Omenkiller',
                    'ontario': 'Ontario',
                    'orcs must die': 'Orcs Must Die',
                    'oregon': 'Oregon',
                    'orin bleu': 'Hoarah Loux',
                    'orlando': 'Orlando',
                    'ornstein and smaug': 'Ornstein and Smough',
                    'ornstein and smog': 'Ornstein and Smough',
                    'ornstein and smoke': 'Ornstein and Smough',
                    'ornstein': 'Ornstein',
                    'oscar': 'Oscar',
                    'oslo': 'Oslo',
                    'otto': 'Otto',
                    'outer wilds': 'Outer Wilds',
                    'overland park': 'Overland Park',
                    'overwatch': 'Overwatch',
                    'oxnard': 'Oxnard',
                    'oyster bay': 'Oyster Bay',
                    'pablo': 'Pablo',
                    'pac man': 'Pac-Man',
                    'pacman': 'Pac-Man',
                    'pakistan': 'Pakistan',
                    'palau': 'Palau',
                    'palestine': 'Palestine',
                    'palikir': 'Palikir',
                    'palm bay': 'Palm Bay',
                    'palm coast': 'Palm Coast',
                    'palmdale': 'Palmdale',
                    'pamela': 'Pamela',
                    'panama city': 'Panama City',
                    'panama': 'Panama',
                    'panda express': 'Panda Express',
                    'pandora': 'Pandora',
                    'papua new guinea': 'Papua New Guinea',
                    'paradise': 'Paradise',
                    'paraguay': 'Paraguay',
                    'paramaribo': 'Paramaribo',
                    'paramazula': 'Farum Azula',
                    'paris': 'Paris',
                    'party animals': 'Party Animals',
                    'pasadena': 'Pasadena',
                    'paterson': 'Paterson',
                    'patreon': 'Patreon',
                    'patricia': 'Patricia',
                    'patrick': 'Patrick',
                    'paul fondler': 'Ball Fondler',
                    'paul': 'Paul',
                    'pearland': 'Pearland',
                    'peepo dance': 'PepoDance',
                    'peepo dances': 'PepoDances',
                    'peepo happy': 'peepoHappy',
                    'peepo sad': 'peepoSad',
                    'pembroke pines': 'Pembroke Pines',
                    'pennsylvania': 'Pennsylvania',
                    'pensacola': 'Pensacola',
                    'peoria': 'Peoria',
                    'pepsi': 'Pepsi',
                    'persephone': 'Persephone',
                    'perseus': 'Perseus',
                    'persian': 'Persian',
                    'peru': 'Peru',
                    'pete': 'Pete',
                    'peter griffin': 'Peter Griffin',
                    'peter': 'Peter',
                    'philadelphia': 'Philadelphia',
                    'philip': 'Philip',
                    'philippines': 'Philippines',
                    'phillip': 'Phillip',
                    'phlogistinator': 'Phlogistinator',
                    'phlogiston or': 'Phlogistinator',
                    'phnom penh': 'Phnom Penh',
                    'pikmin': 'Pikmin',
                    'pittsburgh': 'Pittsburgh',
                    'pixar': 'Pixar',
                    'pizza hut': 'Pizza Hut',
                    'pizza tower': 'Pizza Tower',
                    'placidusix': 'Placidusax',
                    'plano': 'Plano',
                    'plants versus zombies': 'Plants vs. Zombies',
                    'playstation five': 'PlayStation 5',
                    'playstation four': 'PlayStation 4',
                    'playstation one': 'PlayStation 1',
                    'playstation portable': 'PlayStation Portable',
                    'playstation three': 'PlayStation 3',
                    'playstation two': 'PlayStation 2',
                    'playstation': 'PlayStation',
                    'plus too': '+2',
                    'plus two': '+2',
                    'pluto': 'Pluto',
                    'podgorica': 'Podgorica',
                    'pog champ': 'PogChamp',
                    'pog champs': 'PogChamps',
                    'pogchamp': 'PogChamp',
                    'pogchamped': 'PogChamped',
                    'pogchamps': 'PogChamps',
                    'pokelolz': 'Pokelawls',
                    'pokemon': 'Pok√©mon',
                    'poland': 'Poland',
                    'pomona': 'Pomona',
                    'pompano beach': 'Pompano Beach',
                    'popeye': 'Popeye',
                    'popeyes': "Popeye's",
                    'porche': 'Porsche',
                    'port arthur': 'Port Arthur',
                    'port moresby': 'Port Moresby',
                    'port saint lucie': 'Port St. Lucie',
                    'port vila': 'Port Vila',
                    'portal 2': 'Portal 2',
                    'portland': 'Portland',
                    'portugal': 'Portugal',
                    'poseidon': 'Poseidon',
                    'postal pummeler': 'Postal Pummeler',
                    'potter': 'Potter',
                    'pottstown': 'Pottstown',
                    'poughkeepsie': 'Poughkeepsie',
                    'power jack': 'Powerjack',
                    'power wash simulator': 'PowerWash Simulator',
                    'prague': 'Prague',
                    'pretoria': 'Pretoria',
                    'principe': 'Principe',
                    'prometheus': 'Prometheus',
                    'providence': 'Providence',
                    'provo': 'Provo',
                    'pto': 'PTO',
                    'pubg': 'PUBG',
                    'pueblo': 'Pueblo',
                    'pyongyang': 'Pyongyang',
                    'q remastered': 'Q Remastered',
                    'qatar': 'Qatar',
                    'queens': 'Queens',
                    'quick fix': 'Quick-Fix',
                    'quito': 'Quito',
                    'rachel': 'Rachel',
                    'racine': 'Racine',
                    'radagon': 'Radagon',
                    'rainblower': 'Rainblower',
                    'raleigh': 'Raleigh',
                    'ralph': 'Ralph',
                    'ramallah': 'Ramallah',
                    'ramapo': 'Ramapo',
                    'rancho cucamonga': 'Rancho Cucamonga',
                    'randy': 'Randy',
                    'rani': 'Ranni',
                    'ray of lucaria': 'Raya Lucaria',
                    'raymond': 'Raymond',
                    'razor back': 'Razorback',
                    'razorback': 'Razorback',
                    'rebecca': 'Rebecca',
                    'recusant bernard': 'Recusant Bernahl',
                    'recusant finger': 'Recusant Finger',
                    'recusant fingers': 'Recusant Fingers',
                    'red bull': 'Red Bull',
                    'red dead redemption': 'Red Dead Redemption',
                    'red dead': 'Red Dead',
                    'red tape recorder': 'Red-Tape Recorder',
                    'reikard': 'Rykard',
                    'relana': 'Rellana',
                    'ren and stimpy': 'Ren and Stimpy',
                    'renala': 'Rennala',
                    'reno': 'Reno',
                    'renton': 'Renton',
                    'rescue ranger': 'Rescue Ranger',
                    'rescue rangers': 'Rescue Rangers',
                    'reserve shooter': 'Reserve Shooter',
                    'resident evil': 'Resident Evil',
                    'resident evil': 'Resident Evil',
                    'resident evils': 'Resident Evils',
                    'resident sleeper': 'ResidentSleeper',
                    'resident sleepers': 'ResidentSleepers',
                    'reykjav√≠k': 'Reykjav√≠k',
                    'rgb': 'RGB',
                    'rhea lucaria': 'Raya Lucaria',
                    'rhode island': 'Rhode Island',
                    'rialto': 'Rialto',
                    'richard': 'Richard',
                    'richardson': 'Richardson',
                    'richmond': 'Richmond',
                    'riga': 'Riga',
                    'righteous bison': 'Righteous Bison',
                    'risk of rain': 'Risk of Rain',
                    'riverside': 'Riverside',
                    'riyadh': 'Riyadh',
                    'road of sacrifices': 'Road of Sacrifices',
                    'roanoke': 'Roanoke',
                    'robert': 'Robert',
                    'rochester': 'Rochester',
                    'rock hill': 'Rock Hill',
                    'rockford': 'Rockford',
                    'roderica': 'Roderika',
                    'rofl': 'ROFL',
                    'roger': 'Roger',
                    'rogier': 'Rogier',
                    'rolex': 'Rolex',
                    'romania': 'Romania',
                    'rome': 'Rome',
                    'ron': 'Ron',
                    'ronald': 'Ronald',
                    'roosevelt': 'Roosevelt',
                    'rosa': 'Rosa',
                    'roseville': 'Roseville',
                    'ross': 'Ross',
                    'round lake beach': 'Round Lake Beach',
                    'round rock': 'Round Rock',
                    'roundtable hold': 'Roundtable Hold',
                    'roy': 'Roy',
                    'royal rat authority': 'Royal Rat Authority',
                    'royal rat vanguard': 'Royal Rat Vanguard',
                    'rpg': 'RPG',
                    'rsvp': 'RSVP',
                    'rune bear': 'Runebear',
                    'russell': 'Russell',
                    'russia': 'Russia',
                    'ruth': 'Ruth',
                    'rwanda': 'Rwanda',
                    'ryan': 'Ryan',
                    'sacramento': 'Sacramento',
                    'sagan': 'Sagan',
                    'saginaw': 'Saginaw',
                    'saint cloud': 'St. Cloud',
                    'saint george': 'St. George',
                    'saint kitts': 'Saint Kitts',
                    'saint louis': 'St. Louis',
                    'saint lucia': 'Saint Lucia',
                    'saint patricks day': "Saint Patrick's Day",
                    'saint paul': 'St. Paul',
                    'saint petersburg': 'St. Petersburg',
                    'saint trina': 'St. Trina',
                    'saint vincent': 'Saint Vincent',
                    'saints row': 'Saints Row',
                    'salem': 'Salem',
                    'salinas': 'Salinas',
                    'salisbury': 'Salisbury',
                    'salt lake city': 'Salt Lake City',
                    'samantha': 'Samantha',
                    'samoa': 'Samoa',
                    'samsung': 'Samsung',
                    'samuel': 'Samuel',
                    'san antonio': 'San Antonio',
                    'san bernardino': 'San Bernardino',
                    'san buenaventura': 'San Buenaventura',
                    'san diego': 'San Diego',
                    'san francisco': 'San Francisco',
                    'san jose': 'San Jose',
                    'san marino': 'San Marino',
                    'san mateo': 'San Mateo',
                    'sandra': 'Sandra',
                    'sandy springs': 'Sandy Springs',
                    'santa': 'Santa',
                    'santiago': 'Santiago',
                    'sao tome': 'Sao Tome',
                    'sara': 'Sara',
                    'sarah': 'Sarah',
                    'sarajevo': 'Sarajevo',
                    'sarasota': 'Sarasota',
                    'satan': 'Satan',
                    'satanic': 'Satanic',
                    'satanism': 'Satanism',
                    'saturday': 'Saturday',
                    'saturn': 'Saturn',
                    'saudi arabia': 'Saudi Arabia',
                    'savannah': 'Savannah',
                    'scatter gun': 'Scattergun',
                    'schwarzenegger': 'Schwarzenegger',
                    'scorch shot': 'Scorch Shot',
                    'scorn': 'SCORN',
                    'scotland': 'Scotland',
                    'scotsman skullcutter': "Scotsman's Skullcutter",
                    'scott': 'Scott',
                    'scottish resistance': 'Scottish Resistance',
                    'scottish': 'Scottish',
                    'scottsdale': 'Scottsdale',
                    'scranton': 'Scranton',
                    'sean': 'Sean',
                    'seaside': 'Seaside',
                    'seattle': 'Seattle',
                    'seek the scaleless': 'Seath the Scaleless',
                    'sega genesis': 'SEGA Genesis',
                    'sega': 'SEGA',
                    'sekiro': 'Sekiro',
                    'selen': 'Sellen',
                    'senegal': 'Senegal',
                    'sens fortress': "Sen's Fortress",
                    'seoul': 'Seoul',
                    'september': 'September',
                    'ser gideon': 'Sir Gideon',
                    'serbia': 'Serbia',
                    'serpent hunter': 'Serpent-Hunter',
                    'seven days to die': '7 Days to Die',
                    'seychelles': 'Seychelles',
                    'shadow keep': 'Shadow Keep',
                    'shakespeare': 'Shakespeare',
                    'shakira': 'Shakira',
                    'shanghai': 'Shanghai',
                    'sharon': 'Sharon',
                    'sheikah': 'Sheikah',
                    'shirley': 'Shirley',
                    'shortstop': 'Shortstop',
                    'shovel knight': 'Shovel Knight',
                    'shpleef': 'Spleef',
                    'shrek': 'Shrek',
                    'shreveport': 'Shreveport',
                    'sierra leone': 'Sierra Leone',
                    'sifra river': 'Siofra River',
                    'simi valley': 'Simi Valley',
                    'simon': 'Simon',
                    'simpsons': 'Simpsons',
                    'sims': 'Sims',
                    'singapore': 'Singapore',
                    'sioux city': 'Sioux City',
                    'sioux falls': 'Sioux Falls',
                    'skopje': 'Skopje',
                    'slay the spire': 'Slay the Spire',
                    'slovakia': 'Slovakia',
                    'slovenia': 'Slovenia',
                    'smelter demon': 'Smelter Demon',
                    'smg': 'SMG',
                    'smith script': 'Smithscript',
                    'smithing stone': 'Smithing Stone',
                    'smithtown': 'Smithtown',
                    'snape': 'Snape',
                    'snes': 'SNES',
                    'snoop dogg': 'Snoop Dogg',
                    'soda popper': 'Soda Popper',
                    'sofia': 'Sofia',
                    'soldier 76': 'Soldier: 76',
                    'soldier of godrick': 'Soldier of Godrick',
                    'solemn vow': 'Solemn Vow',
                    'solomon islands': 'Solomon Islands',
                    'solomon': 'Solomon',
                    'somalia': 'Somalia',
                    'somber smithing stone': 'Somber Smithing Stone',
                    'sonic': 'Sonic',
                    'sony': 'Sony',
                    'sophia': 'Sophia',
                    'souls like': 'soulslike',
                    'souls likes': 'soulslikes',
                    'south africa': 'South Africa',
                    'south america': 'South America',
                    'south bend': 'South Bend',
                    'south carolina': 'South Carolina',
                    'south dakota': 'South Dakota',
                    'south korea': 'South Korea',
                    'south lyon': 'South Lyon',
                    'south sudan': 'South Sudan',
                    'south tarawa': 'South Tarawa',
                    'spain': 'Spain',
                    'spanish': 'Spanish',
                    'sparks': 'Sparks',
                    'spartanburg': 'Spartanburg',
                    'spider man': 'Spider-Man',
                    'spirit caller snail': 'Spirit-Caller Snail',
                    'splatoon': 'Splatoon',
                    'splendid screen': 'Splendid Screen',
                    'spokane': 'Spokane',
                    'spotify': 'Spotify',
                    'spring hill': 'Spring Hill',
                    'spring valley': 'Spring Valley',
                    'springfield': 'Springfield',
                    'spycicle': 'Spy-cicle',
                    'square enix': 'Square Enix',
                    'sri lanka': 'Sri Lanka',
                    'st patricks day': "Saint Patrick's Day",
                    'st. patricks day': "Saint Patrick's Day",
                    'stamford': 'Stamford',
                    'standard parable': 'Stanley Parable',
                    'stanley parable': 'Stanley Parable',
                    'stanley': 'Stanley',
                    'star scourge': 'Starscourge',
                    'star trek': 'Star Trek',
                    'star underscore': 'STAR_',
                    'star wars': 'Star Wars',
                    'starbucks': 'Starbucks',
                    'stardew valley': 'Stardew Valley',
                    'staten island': 'Staten Island',
                    'steak and shake': "Steak 'n Shake",
                    'steam deck': 'Steam Deck',
                    'steam decks': 'Steam Decks',
                    'steam vr': 'SteamVR',
                    'stephanie': 'Stephanie',
                    'stephen': 'Stephen',
                    'sterling heights': 'Sterling Heights',
                    'steve': 'Steve',
                    'steven universe': 'Steven Universe',
                    'steven': 'Steven',
                    'sticky jumper': 'Sticky Jumper',
                    'stir': 'Ster',
                    'stirrer': 'Ster',
                    'stockholm': 'Stockholm',
                    'stockton': 'Stockton',
                    'storm hill': 'Stormhill',
                    'stormvale castle': 'Stormveil Castle',
                    'stray demon': 'Stray Demon',
                    'street fighter': 'Street Fighter',
                    'stur': 'Ster',
                    'sturma': 'Sterma',
                    'sturma985': 'Sterma985',
                    'sturr': 'Ster',
                    'styx': 'Styx',
                    'subaru': 'Subaru',
                    'subnautica': 'Subnautica',
                    'subterranean shunning grounds': 'Subterranean Shunning Grounds',
                    'sucre': 'Sucre',
                    'sudan': 'Sudan',
                    'sun on a stick': 'Sun-on-a-Stick',
                    'sunday': 'Sunday',
                    'sunnyvale': 'Sunnyvale',
                    'sunrise manor': 'Sunrise Manor',
                    'super auto pets': 'Super Auto Pets',
                    'super liminal': 'Superliminal',
                    'super mario': 'Super Mario',
                    'superhot': 'SUPERHOT',
                    'superliminal': 'Superliminal',
                    'suriname': 'Suriname',
                    'susan': 'Susan',
                    'suva': 'Suva',
                    'swaziland': 'Swaziland',
                    'sweden': 'Sweden',
                    'switzerland': 'Switzerland',
                    'sydney sleeper': 'Sydney Sleeper',
                    'sydney': 'Sydney',
                    'sylvester': 'Sylvester',
                    'syracuse': 'Syracuse',
                    'syria': 'Syria',
                    'taco bell': 'Taco Bell',
                    'tacoma': 'Tacoma',
                    'taipei': 'Taipei',
                    'taiwan': 'Taiwan',
                    'taj mahal': 'Taj Mahal',
                    'tajikistan': 'Tajikistan',
                    'talix': 'Etalyx',
                    'tallahassee': 'Tallahassee',
                    'tallinn': 'Tallinn',
                    'tampa': 'Tampa',
                    'tanzania': 'Tanzania',
                    'tarnished eater': 'Tarnished-Eater',
                    'tashkent': 'Tashkent',
                    'taurus demon': 'Taurus Demon',
                    'taylor': 'Taylor',
                    'tbilisi': 'Tbilisi',
                    'team fortress': 'Team Fortress',
                    'Teenage Mutant Ninja Turtles': 'Teenage Mutant Ninja Turtles',
                    'tehran': 'Tehran',
                    'temecula': 'Temecula',
                    'tempe': 'Tempe',
                    'tennessee': 'Tennessee',
                    'teresa': 'Teresa',
                    'terraria': 'Terraria',
                    'terry': 'Terry',
                    'tesla': 'Tesla',
                    'texas city': 'Texas City',
                    'texas': 'Texas',
                    'tf2': 'TF2',
                    'thailand': 'Thailand',
                    'thanksgiving': 'Thanksgiving',
                    'the bahamas': 'The Bahamas',
                    'the bed of chaos': 'The Bed of Chaos',
                    'the binding of isaac': 'The Binding of Isaac',
                    'the elder scrolls': 'The Elder Scrolls',
                    'the gambia': 'The Gambia',
                    'the last guardian': 'The Last Guardian',
                    'the last of us': 'The Last of Us',
                    'the legend of zelda': 'The Legend of Zelda',
                    'the long drive': 'The Long Drive',
                    'the simpsons': 'The Simpsons',
                    'the sims': 'The Sims',
                    'the stanley parable': 'The Stanley Parable',
                    'the toichi': 'Zatoichi',
                    'the witcher': 'The Witcher',
                    'the woodlands': 'The Woodlands',
                    'theodore': 'Theodore',
                    'theresa': 'Theresa',
                    'thermal thruster': 'Thermal Thruster',
                    'thimphu': 'Thimphu',
                    'thomas': 'Thomas',
                    'thops': 'Thops',
                    'thornton': 'Thornton',
                    'those who live in death': 'Those Who Live in Death',
                    'thousand oaks': 'Thousand Oaks',
                    'three fingers': 'Three Fingers',
                    'thursday': 'Thursday',
                    'tibia mariner': 'Tibia Mariner',
                    'tibia mariners': 'Tibia Mariners',
                    'tick tock': 'TikTok',
                    'tide turner': 'Tide Turner',
                    'timothy': 'Timothy',
                    'tirana': 'Tirana',
                    'titanite': 'Titanite',
                    'tldr': 'TL;DR',
                    'tobago': 'Tobago',
                    'togo': 'Togo',
                    'tokyo': 'Tokyo',
                    'toledo': 'Toledo',
                    'tom': 'Tom',
                    'tomislav': 'Tomislav',
                    'tonga': 'Tonga',
                    'topeka': 'Topeka',
                    'torbjorn': 'Torbj√∂rn',
                    'torrance': 'Torrance',
                    'toy story': 'Toy Story',
                    'toyota': 'Toyota',
                    'tracey': 'Tracy',
                    'tracy': 'Tracy',
                    'tree sentinel': 'Tree Sentinel',
                    'trenton': 'Trenton',
                    'trevor': 'Trevor',
                    'trick shot simulator': 'TrickShot Simulator',
                    'trickshot simulator': 'TrickShot Simulator',
                    'trinidad': 'Trinidad',
                    'tucson': 'Tucson',
                    'tuesday': 'Tuesday',
                    'tulsa': 'Tulsa',
                    'tunisia': 'Tunisia',
                    'turkmenistan': 'Turkmenistan',
                    'turlock': 'Turlock',
                    'tuscaloosa': 'Tuscaloosa',
                    'tutankhamun': 'Tutankhamun',
                    'tuvalu': 'Tuvalu',
                    'twitter': 'Twitter',
                    'two fingers': 'Two Fingers',
                    'tyler': 'Tyler',
                    'uber saw': 'Ubersaw',
                    'ubisoft': 'Ubisoft',
                    'uganda': 'Uganda',
                    'ukraine': 'Ukraine',
                    'ulaanbaatar': 'Ulaanbaatar',
                    'ultra kill': 'ULTRAKILL',
                    'ultrakill': 'ULTRAKILL',
                    'undead asylum': 'Undead Asylum',
                    'undead burg': 'Undead Burg',
                    'undead parish': 'Undead Parish',
                    'undead settlement': 'Undead Settlement',
                    'undertale': 'Undertale',
                    'united arab emirates': 'United Arab Emirates',
                    'united kingdom': 'United Kingdom',
                    'united states of america': 'United States of America',
                    'until dawn': 'Until Dawn',
                    'uranus': 'Uranus',
                    'uruguay': 'Uruguay',
                    'usa': 'USA',
                    'utah': 'Utah',
                    'utica': 'Utica',
                    'uzbekistan': 'Uzbekistan',
                    'v': 'V',
                    'vacaville': 'Vacaville',
                    'Vaccinator': 'Vaccinator',
                    'vaduz': 'Vaduz',
                    'valentine': 'Valentine',
                    'Valentines': "Valentine's",
                    'valiant gargoyle': 'Valiant Gargoyle',
                    'valiant gargoyles': 'Valiant Gargoyles',
                    'vallejo': 'Vallejo',
                    'valletta': 'Valletta',
                    'vampire survivors': 'Vampire Survivors',
                    'vancouver': 'Vancouver',
                    'vanuatu': 'Vanuatu',
                    'vati': 'Vaati',
                    'vatican city': 'Vatican City',
                    'vcr': 'VCR',
                    'veer, the deathbed companion': 'Fia, the Deathbed Companion',
                    'vegas': 'Vegas',
                    'venezuela': 'Venezuela',
                    'venice': 'Venice',
                    'venus': 'Venus',
                    'vermont': 'Vermont',
                    'vhs': 'VHS',
                    'vi': 'VI',
                    'vicera cleanup detail': 'Viscera Cleanup Detail',
                    'viceral cleanup detail': 'Viscera Cleanup Detail',
                    'victoria': 'Victoria',
                    'victorville': 'Victorville',
                    'video game dunkey': 'videogamedunkey',
                    'vienna': 'Vienna',
                    'vientiane': 'Vientiane',
                    'vietnam': 'Vietnam',
                    'viewfinder': 'Viewfinder',
                    'vii': 'VII',
                    'viii': 'VIII',
                    'vilnius': 'Vilnius',
                    'vincent': 'Vincent',
                    'vine sauce': 'Vinesauce',
                    'vinesauce': 'Vinesauce',
                    'vinnie': 'Vinny',
                    'virginia beach': 'Virginia Beach',
                    'virginia': 'Virginia',
                    'visa': 'Visa',
                    'visalia': 'Visalia',
                    'viscer cleanup detail': 'Viscera Cleanup Detail',
                    'visper cleanup detail': 'Viscera Cleanup Detail',
                    'vista': 'Vista',
                    'vitasaw': 'Vita-Saw',
                    'vizsra cleanup detail': 'Viscera Cleanup Detail',
                    'vod': 'VOD',
                    'volcano manor': 'Volcano Manor',
                    'voldemort': 'Voldemort',
                    'volkswagen': 'Volkswagen',
                    'vort of the boreal valley': 'Vordt of the Boreal Valley',
                    'vr chat': 'VRChat',
                    'vr josh': 'VRJosh',
                    'vr': 'VR',
                    'waco': 'Waco',
                    'waffle house': 'Waffle House',
                    'wales': 'Wales',
                    'walmart': 'Walmart',
                    'walter': 'Walter',
                    'waluigi': 'Waluigi',
                    'warner robins': 'Warner Robins',
                    'warren': 'Warren',
                    'washington': 'Washington',
                    'waterbury': 'Waterbury',
                    'waterloo': 'Waterloo',
                    'wayne': 'Wayne',
                    'waypoint ruins': 'Waypoint Ruins',
                    'wednesday': 'Wednesday',
                    'wee booties': 'Wee Booties',
                    'wellington': 'Wellington',
                    'welsh': 'Welsh',
                    'wendy': 'Wendy',
                    'west covina': 'West Covina',
                    'west jordan': 'West Jordan',
                    'west palm beach': 'West Palm Beach',
                    'west valley city': 'West Valley City',
                    'west virginia': 'West Virginia',
                    'westminster': 'Westminster',
                    'whataburger': "Whataburger",
                    'wichita': 'Wichita',
                    'widow maker': 'Widowmaker',
                    'wii u': 'Wii U',
                    'william': 'William',
                    'willie': 'Willie',
                    'wilmington': 'Wilmington',
                    'wimble don': 'Wimbledon',
                    'wimbledon': 'Wimbledon',
                    'winger': 'Winger',
                    'winnie the pooh': 'Winnie the Pooh',
                    'winston-salem': 'Winston-Salem',
                    'winston': 'Winston',
                    'winter haven': 'Winter Haven',
                    'wisconsin': 'Wisconsin',
                    'witch of izalith': 'Witch of Izalith',
                    'woodbridge': 'Woodbridge',
                    'worcester': 'Worcester',
                    'world of warcraft': 'World of Warcraft',
                    'world war one': 'World War I',
                    'world war two': 'World War II',
                    'world war': 'World War',
                    'wwe': 'WWE',
                    'wyoming': 'Wyoming',
                    'xbox one': 'Xbox One',
                    'xbox': 'Xbox',
                    'yakima': 'Yakima',
                    'yakuza': 'Yakuza',
                    'yaren': 'Yaren',
                    'yemen': 'Yemen',
                    'yerevan': 'Yerevan',
                    'yonkers': 'Yonkers',
                    'york': 'York',
                    'youngstown': 'Youngstown',
                    'your eternal reward': 'Your Eternal Reward',
                    'youtuber': 'YouTuber',
                    'youtubers': 'YouTubers',
                    'yu-gi-oh': 'Yu-Gi-Oh',
                    'yuba city': 'Yuba City',
                    'yugioh': 'Yu-Gi-Oh',
                    'yuma': 'Yuma',
                    'zachary': 'Zachary',
                    'zagreb': 'Zagreb',
                    'zambia': 'Zambia',
                    'zeus': 'Zeus',
                    'zimbabwe': 'Zimbabwe',
                    'zoom beanies': 'Zoombinis',
                    "alibaba's wee booties": "Ali Baba's Wee Booties",
                    "arby's": "Arby's",
                    "assassin's creed": "Assassin's Creed",
                    "battalion's backup": "Battalion's Backup",
                    "beggar's bazooka": "Beggar's Bazooka",
                    "clayman's harpoon": "Clayman's Harpoon",
                    "coeur d'alene": "Coeur d'Alene",
                    "conniver's kunai": "Conniver's Kunai",
                    "cote d'ivoire": "Cote d'Ivoire",
                    "dan's game": 'DansGame',
                    "domino's": "Domino's",
                    "duke's dear": "Freja",
                    "father's day": "Father's Day",
                    "garry's mod": "Garry's Mod",
                    "it's alex": 'Etalyx',
                    "knight's sacred ground": "Night's Sacred Ground",
                    "lethal league blazes": "Lethal League Blaze's",
                    "mother's day": "Mother's Day",
                    "new year's eve": "New Year's Eve",
                    "nuku'alofa": "Nuku'alofa",
                    "otto's big adventure": "Otto's Big Adventure",
                    "sana'a": "Sana'a",

                    # the order of these matter
                    'hyetta the combat butler': 'Hayate the Combat Butler!!',
                    'tv': 'TV',
                    'twitch': 'Twitch',
                    'twitch.tv': 'twitch.tv',
                    'twitch tv': 'twitch.tv',
                    'twitch.tv slash ': 'twitch.tv/',
                }

                for k, v in case_insensitive_replacements.items():
                    pattern = rf'\b{re.escape(k)}\b'
                    file_content, count = replace(pattern, v, file_content, flags=re.IGNORECASE)
                    replacement_counts[f'{k} -> {v}'] = replacement_counts.get(f'{k} -> {v}', 0) + count

                case_sensitive_replacements = {
                    'all right': 'alright',
                    'All right': 'Alright',
                    'All Right': 'Alright',
                    'ALL RIGHT': 'ALRIGHT',
                    'f**king': 'fucking',
                    'F**king': 'Fucking',
                    'F**KING': 'FUCKING',
                    'game play': 'gameplay',
                    'Game play': 'Gameplay',
                    'letter grid': 'letter grade',
                    'Letter grid': 'Letter grade',
                    'zerkoth': 'zerk off',
                    'Zerkoth': 'Zerk off',
                }

                for k, v in case_sensitive_replacements.items():
                    pattern = rf'\b{re.escape(k)}\b'
                    file_content, count = replace(pattern, v, file_content)
                    replacement_counts[f'{k} -> {v}'] = replacement_counts.get(f'{k} -> {v}', 0) + count

                abbreviations_ending_with_periods__replacements = {
                    'dr': 'Dr',
                    'mr': 'Mr.',
                    'mrs': 'Mrs.',
                    'ms': 'Ms.',
                    'mx': 'Mx.',
                }

                for k, v in abbreviations_ending_with_periods__replacements.items():
                    pattern = rf'\b{re.escape(k)}\.?\b'
                    file_content, count = replace(pattern, v, file_content)
                    replacement_counts[f'{k} -> {v}'] = replacement_counts.get(f'{k} -> {v}', 0) + count
                lines = file_content.splitlines()

            new_lines = []

            for line in lines:
                match = timestamp_pattern.match(line.strip())
                if match:
                    ts = match.group(1)
                    text_after_ts = match.group(2).strip()
                    if not text_after_ts:
                        continue
                    new_lines.append(f'{ts}{text_after_ts}\n')
                else:
                    new_lines.append(line.rstrip('\r\n') + '\n')

            with open(os.path.join(subs_path, filename), 'w', encoding='utf-8', newline='\n') as f:
                f.writelines(new_lines)

            processed_files.add(filename)

    with open('refined_subtitles.txt', 'w', encoding='utf-8', newline='\n') as f:
        f.write('\n'.join(sorted(processed_files)))

    print('Replacements made:')
    for key, count in sorted(replacement_counts.items(), key=lambda item: item[1], reverse=True):
        if (count > 0):
            print(f'[{count}] {key}')

if __name__ == '__main__':
    parser = argparse.ArgumentParser(formatter_class=ArgumentDefaultsHelpFormatter, description='Downloads/generates subtitles for a set of URLs in .lrc format using yt-dlp, WhisperX and ffmpeg. Requires ffmpeg to be installed and available on path for subtitle format conversion. Requires cuBLAS and cuDNN for WhisperX GPU execution (see: https://github.com/m-bain/whisperX#setup-%EF%B8%8F)')
    parser.add_argument('--urls', type=str, nargs='+', default=[
        # 'https://youtube.com/channel/UCK3kaNXbB57CLcyhtccV_yw',                       # Jerma985 channel
        # 'https://youtube.com/playlist?list=PLd4kmFVnghOiWHL8EStIzMXwySWm-7K1f',       # Jerma Streams in Chronological Order
        'https://youtube.com/playlist?list=PLLZVyAYonIO5Wlrf5-i8iXKmWYl6h0yx9',         # More Jerma content, by me (create an issue if you'd like me to add videos)
        'https://youtube.com/playlist?list=PLiwPsPm4ewgv5dPbkSRBzjJ4SjAOXXxZH',         # Jerma animations by Corax
        'https://youtube.com/playlist?list=PL9wV0Fmo7N_g5X64TzZUY-eQyoZ4xvAf2',         # JermAnimated playlist on 2ndJerma
        # 'https://archive.org/download/jerma-streams-public-domain-movie-night/PUBLIC%20DOMAIN%20MOVIE%20NIGHT%20PART%201.mp4'
    ], help='List of URLs to obtain subtitles for.')
    parser.add_argument('--cookies-path', type=str, default='cookies.txt', help='Netscape formatted file to read cookies from, can be obtained with: yt-dlp --cookies-from-browser firefox --cookies cookies.txt')
    parser.add_argument('--generate-missing', action='store_true', default=True, help='Generate subtitles for videos with no autogenerated subtitles. Only works if --prefer-autogenerated is set.')
    parser.add_argument('--json-path', type=str, default='../../assets/Subtitles.json', help='Path to save JSON file to.')
    parser.add_argument('--prefer-autogenerated', action='store_true', default=False, help='Prefer autogenerated subtitles over doing transcription.')
    parser.add_argument('--subs-path', type=str, default='../../assets/subtitles', help='Path to save files to.')
    parser.add_argument('--whisper-batch-size', type=int, default=8, help='Batch size to use for WhisperX transcription. Lower this if you run out of VRAM.')
    parser.add_argument('--whisper-compute-type', type=str, default='float16', help='Compute type to use for WhisperX transcription (int8/float16/float32).')
    parser.add_argument('--whisper-device', type=str, default='cuda', help='Whether to perform transcription on GPU (CUDA) or CPU.')
    parser.add_argument('--whisper-model', type=str, default='large-v3', help='Whisper model to use for transcription (see: https://github.com/openai/whisper#available-models-and-languages)')
    args = parser.parse_args()

    get_subtitles(args.urls, args.cookies_path, args.subs_path, args.prefer_autogenerated, args.generate_missing, args.whisper_model, args.whisper_compute_type, args.whisper_batch_size, args.whisper_device)
    print('\nRenaming files...')
    rename_files(args.subs_path)
    print('\nFixing subtitles...')
    refine_subtitles(args.subs_path)
    print('\nWriting JSON...')
    write_json(args.subs_path, args.json_path)
